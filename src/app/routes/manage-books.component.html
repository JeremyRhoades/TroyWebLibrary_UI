<h1 class="text-center">Manage Books</h1>

@if(books$| async;as books){
  @if(books.length > 0) {
  <div class="container mt-5">
    <table class="table table-striped">
      <thead class="table-dark">
        <tr>
          <th scope="col">#</th>
          <th scope="col">Title</th>
          <th scope="col">Author</th>
          <th scope="col">Desc</th>
          <th scope="col" class="delete-btn"></th>
        </tr>
      </thead>
      <tbody>
            @for (book of books; track $index) {
              <tr>
                <th scope="row">{{$index + 1}}</th>
                <td>{{book.title}}</td>
                <td>{{book.author}}</td>
                <td>{{book.description}}</td>
                <td class="delete-btn-col">
                  <form class="d-flex justify-content-end" (ngSubmit)="onBookDeleteFormSubmit(book.id)" [formGroup]="deleteBookForm">
                    <div id="loadingDelete{{$index}}"></div>
                    <button class="btn btn-danger" type="submit">Delete</button>
                  </form>
                </td>
              </tr>
              
            }
      </tbody>
    </table>
  </div>
  } @else {
    <p class="text-center">No books found.</p>
  }
}